{"remainingRequest":"D:\\Code\\VSCode\\smart-community-vue\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\Code\\VSCode\\smart-community-vue\\src\\pages\\Role.vue?vue&type=script&lang=js&","dependencies":[{"path":"D:\\Code\\VSCode\\smart-community-vue\\src\\pages\\Role.vue","mtime":1657157135350},{"path":"D:\\Code\\VSCode\\smart-community-vue\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1657157123151},{"path":"D:\\Code\\VSCode\\smart-community-vue\\node_modules\\babel-loader\\lib\\index.js","mtime":1657157121856},{"path":"D:\\Code\\VSCode\\smart-community-vue\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1657157123151},{"path":"D:\\Code\\VSCode\\smart-community-vue\\node_modules\\vue-loader\\lib\\index.js","mtime":1657157133663}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KDQovLyBpbXBvcnQgew0KLy8gICByb2xlTGlzdCwNCi8vICAgcm9sZVNhdmUsDQovLyAgIHJvbGVEZWxldGUsDQovLyAgIHJvbGVQd2QsDQovLyAgIFJvbGVSaWdodFRyZWUsDQovLyAgIFJvbGVSaWdodFNhdmUNCi8vIH0gZnJvbSAnLi4vLi4vYXBpL3VzZXJNRycNCi8vIGltcG9ydCBQYWdpbmF0aW9uIGZyb20gJy4uLy4uL2NvbXBvbmVudHMvUGFnaW5hdGlvbicNCmV4cG9ydCBkZWZhdWx0IHsNCiAgZGF0YSgpIHsNCiAgICByZXR1cm4gew0KICAgICAgbnNob3c6IHRydWUsIC8vc3dpdGNo5byA5ZCvDQogICAgICBmc2hvdzogZmFsc2UsIC8vc3dpdGNo5YWz6ZetDQogICAgICBsb2FkaW5nOiBmYWxzZSwgLy/mmK/mmL7npLrliqDovb0NCiAgICAgIGVkaXRGb3JtVmlzaWJsZTogZmFsc2UsIC8v5o6n5Yi257yW6L6R6aG16Z2i5pi+56S65LiO6ZqQ6JePDQogICAgICBtZW51QWNjZXNzc2hvdzogZmFsc2UsIC8v5o6n5Yi25pWw5o2u5p2D6ZmQ5pi+56S65LiO6ZqQ6JePDQogICAgICB0aXRsZTogJ+a3u+WKoCcsDQogICAgICBlZGl0Rm9ybTogew0KICAgICAgICByb2xlSWQ6ICcnLA0KICAgICAgICBzeXN0ZW1ObzogJycsDQogICAgICAgIHJvbGVObzogJycsDQogICAgICAgIHJvbGVOYW1lOiAnJywNCiAgICAgICAgdG9rZW46IGxvY2FsU3RvcmFnZS5nZXRJdGVtKCdsb2dpbnRva2VuJykNCiAgICAgIH0sDQogICAgICAvLyBydWxlcyDooajljZXpqozor4ENCiAgICAgIHJ1bGVzOiB7DQogICAgICAgIHN5c3RlbU5vOiBbDQogICAgICAgICAgeyByZXF1aXJlZDogdHJ1ZSwgbWVzc2FnZTogJ+ivt+i+k+WFpeezu+e7n+e8lueggScsIHRyaWdnZXI6ICdibHVyJyB9DQogICAgICAgIF0sDQogICAgICAgIHJvbGVObzogWw0KICAgICAgICAgIHsgcmVxdWlyZWQ6IHRydWUsIG1lc3NhZ2U6ICfor7fovpPlhaXop5LoibLku6PnoIEnLCB0cmlnZ2VyOiAnYmx1cicgfQ0KICAgICAgICBdLA0KICAgICAgICByb2xlTmFtZTogWw0KICAgICAgICAgIHsgcmVxdWlyZWQ6IHRydWUsIG1lc3NhZ2U6ICfor7fovpPlhaXop5LoibLlkI3np7AnLCB0cmlnZ2VyOiAnYmx1cicgfQ0KICAgICAgICBdDQogICAgICB9LA0KICAgICAgZm9ybUlubGluZTogew0KICAgICAgICBwYWdlOiAxLA0KICAgICAgICBsaW1pdDogMTAsDQogICAgICAgIHZhckxhYmxlOiAnJywNCiAgICAgICAgdmFyTmFtZTogJycsDQogICAgICAgIHRva2VuOiBsb2NhbFN0b3JhZ2UuZ2V0SXRlbSgnbG9naW50b2tlbicpDQogICAgICB9LA0KICAgICAgLy8g5Yig6ZmkDQogICAgICBzZWxldGVkYXRhOiB7DQogICAgICAgIGlkczogJycsDQogICAgICAgIHRva2VuOiBsb2NhbFN0b3JhZ2UuZ2V0SXRlbSgnbG9naW50b2tlbicpDQogICAgICB9LA0KICAgICAgdXNlcnBhcm06IFtdLCAvL+aQnOe0ouadg+mZkA0KICAgICAgbGlzdERhdGE6IFtdLCAvL+eUqOaIt+aVsOaNrg0KICAgICAgLy8g5pWw5o2u5p2D6ZmQDQogICAgICBSb2xlUmlnaHQ6IFtdLA0KICAgICAgUm9sZVJpZ2h0UHJvcHM6IHsNCiAgICAgICAgY2hpbGRyZW46ICdjaGlsZHJlbicsDQogICAgICAgIGxhYmVsOiAnbmFtZScNCiAgICAgIH0sDQogICAgICAvLyDpgInkuK0NCiAgICAgIGNoZWNrbWVudTogW10sDQogICAgICAvL+WPguaVsHJvbGUNCiAgICAgIHNhdmVyb2xlSWQ6ICcnLA0KICAgICAgLy8g5YiG6aG15Y+C5pWwDQogICAgICBwYWdlcGFybTogew0KICAgICAgICBjdXJyZW50UGFnZTogMSwNCiAgICAgICAgcGFnZVNpemU6IDEwLA0KICAgICAgICB0b3RhbDogMTANCiAgICAgIH0NCiAgICB9DQogIH0sDQogIC8vIOazqOWGjOe7hOS7tg0KICBjb21wb25lbnRzOiB7DQogICAgLy8gUGFnaW5hdGlvbg0KICB9LA0KICAvKioNCiAgICog5pWw5o2u5Y+R55Sf5pS55Y+YDQogICAqLw0KDQogIHdhdGNoOiB7fSwNCg0KICAvKioNCiAgICog5Yib5bu65a6M5q+VDQogICAqLw0KDQogIGNyZWF0ZWQoKSB7DQogICAgdGhpcy5nZXRkYXRhKHRoaXMuZm9ybUlubGluZSkNCiAgfSwNCg0KICAvKioNCiAgICog6YeM6Z2i55qE5pa55rOV5Y+q5pyJ6KKr6LCD55So5omN5Lya5omn6KGMDQogICAqLw0KDQogIG1ldGhvZHM6IHsNCiAgICAvLyDojrflj5bop5LoibLliJfooagNCiAgICBnZXRkYXRhKHBhcmFtZXRlcikgew0KICAgICAgLy8g5qih5ouf5pWw5o2uDQogICAgICBsZXQgcmVzID0gew0KICAgICAgICBjb2RlOiAwLA0KICAgICAgICBtc2c6IG51bGwsDQogICAgICAgIGNvdW50OiA2LA0KICAgICAgICBkYXRhOiBbDQogICAgICAgICAgew0KICAgICAgICAgICAgYWRkVXNlcjogJ3Jvb3QnLA0KICAgICAgICAgICAgZWRpdFVzZXI6ICdyb290JywNCiAgICAgICAgICAgIGFkZFRpbWU6IDE1MTkxODIwMDQwMDAsDQogICAgICAgICAgICBlZGl0VGltZTogMTUyMDI4ODQyNjAwMCwNCiAgICAgICAgICAgIHJvbGVJZDogMSwNCiAgICAgICAgICAgIHN5c3RlbU5vOiAncG1kJywNCiAgICAgICAgICAgIHJvbGVObzogJ0FkbWluaXN0cmF0b3InLA0KICAgICAgICAgICAgcm9sZU5hbWU6ICfotoXnuqfnrqHnkIblkZgnDQogICAgICAgICAgfSwNCiAgICAgICAgICB7DQogICAgICAgICAgICBhZGRVc2VyOiBudWxsLA0KICAgICAgICAgICAgZWRpdFVzZXI6IG51bGwsDQogICAgICAgICAgICBhZGRUaW1lOiAxNTIxMTExMzc2MDAwLA0KICAgICAgICAgICAgZWRpdFRpbWU6IDE1MjA2NzgxOTEwMDAsDQogICAgICAgICAgICByb2xlSWQ6IDIsDQogICAgICAgICAgICBzeXN0ZW1ObzogJ29yZGVyJywNCiAgICAgICAgICAgIHJvbGVObzogJ2FkbWluJywNCiAgICAgICAgICAgIHJvbGVOYW1lOiAn5YWs5Y+4566h55CG5ZGYJw0KICAgICAgICAgIH0sDQogICAgICAgICAgew0KICAgICAgICAgICAgYWRkVXNlcjogbnVsbCwNCiAgICAgICAgICAgIGVkaXRVc2VyOiBudWxsLA0KICAgICAgICAgICAgYWRkVGltZTogMTUyMDY3ODIyMTAwMCwNCiAgICAgICAgICAgIGVkaXRUaW1lOiAxNTIwNjc4MjIxMDAwLA0KICAgICAgICAgICAgcm9sZUlkOiA5NSwNCiAgICAgICAgICAgIHN5c3RlbU5vOiAncG0nLA0KICAgICAgICAgICAgcm9sZU5vOiAnY29tbW9uJywNCiAgICAgICAgICAgIHJvbGVOYW1lOiAn5pmu6YCa55So5oi3Jw0KICAgICAgICAgIH0sDQogICAgICAgICAgew0KICAgICAgICAgICAgYWRkVXNlcjogbnVsbCwNCiAgICAgICAgICAgIGVkaXRVc2VyOiBudWxsLA0KICAgICAgICAgICAgYWRkVGltZTogMTUyNjM0OTg1MzAwMCwNCiAgICAgICAgICAgIGVkaXRUaW1lOiAxNTI2MzQ5ODUzMDAwLA0KICAgICAgICAgICAgcm9sZUlkOiA5NiwNCiAgICAgICAgICAgIHN5c3RlbU5vOiAnMScsDQogICAgICAgICAgICByb2xlTm86ICcxJywNCiAgICAgICAgICAgIHJvbGVOYW1lOiAnMScNCiAgICAgICAgICB9LA0KICAgICAgICAgIHsNCiAgICAgICAgICAgIGFkZFVzZXI6IG51bGwsDQogICAgICAgICAgICBlZGl0VXNlcjogbnVsbCwNCiAgICAgICAgICAgIGFkZFRpbWU6IDE1MjYzNDk5NDIwMDAsDQogICAgICAgICAgICBlZGl0VGltZTogMTUyNjQzNzQ0MzAwMCwNCiAgICAgICAgICAgIHJvbGVJZDogOTcsDQogICAgICAgICAgICBzeXN0ZW1ObzogJzInLA0KICAgICAgICAgICAgcm9sZU5vOiAnMicsDQogICAgICAgICAgICByb2xlTmFtZTogJzInDQogICAgICAgICAgfSwNCiAgICAgICAgICB7DQogICAgICAgICAgICBhZGRVc2VyOiBudWxsLA0KICAgICAgICAgICAgZWRpdFVzZXI6IG51bGwsDQogICAgICAgICAgICBhZGRUaW1lOiAxNTI2NjUyMTQ4MDAwLA0KICAgICAgICAgICAgZWRpdFRpbWU6IDE1MjY2NTIxNDgwMDAsDQogICAgICAgICAgICByb2xlSWQ6IDEwMSwNCiAgICAgICAgICAgIHN5c3RlbU5vOiAndGVzdCcsDQogICAgICAgICAgICByb2xlTm86ICdkZW1vJywNCiAgICAgICAgICAgIHJvbGVOYW1lOiAn5ryU56S66KeS6ImyJw0KICAgICAgICAgIH0NCiAgICAgICAgXQ0KICAgICAgfQ0KICAgICAgdGhpcy5sb2FkaW5nID0gZmFsc2UNCiAgICAgIHRoaXMubGlzdERhdGEgPSByZXMuZGF0YQ0KICAgICAgLy8g5YiG6aG16LWL5YC8DQogICAgICB0aGlzLnBhZ2VwYXJtLmN1cnJlbnRQYWdlID0gdGhpcy5mb3JtSW5saW5lLnBhZ2UNCiAgICAgIHRoaXMucGFnZXBhcm0ucGFnZVNpemUgPSB0aGlzLmZvcm1JbmxpbmUubGltaXQNCiAgICAgIHRoaXMucGFnZXBhcm0udG90YWwgPSByZXMuY291bnQNCiAgICAgIC8vIOaooeaLn+aVsOaNrue7k+adnw0KDQogICAgICAvKioqDQogICAgICAgKiDosIPnlKjmjqXlj6PvvIzms6jph4rkuIrpnaLmqKHmi5/mlbDmja4g5Y+W5raI5LiL6Z2i5rOo6YeKDQogICAgICAgKi8NCiAgICAgIC8vIHJvbGVMaXN0KHBhcmFtZXRlcikNCiAgICAgIC8vICAgLnRoZW4ocmVzID0+IHsNCiAgICAgIC8vICAgICB0aGlzLmxvYWRpbmcgPSBmYWxzZQ0KICAgICAgLy8gICAgIGlmIChyZXMuc3VjY2VzcyA9PSBmYWxzZSkgew0KICAgICAgLy8gICAgICAgdGhpcy4kbWVzc2FnZSh7DQogICAgICAvLyAgICAgICAgIHR5cGU6ICdpbmZvJywNCiAgICAgIC8vICAgICAgICAgbWVzc2FnZTogcmVzLm1zZw0KICAgICAgLy8gICAgICAgfSkNCiAgICAgIC8vICAgICB9IGVsc2Ugew0KICAgICAgLy8gICAgICAgdGhpcy5saXN0RGF0YSA9IHJlcy5kYXRhDQogICAgICAvLyAgICAgICAvLyDliIbpobXotYvlgLwNCiAgICAgIC8vICAgICAgIHRoaXMucGFnZXBhcm0uY3VycmVudFBhZ2UgPSB0aGlzLmZvcm1JbmxpbmUucGFnZQ0KICAgICAgLy8gICAgICAgdGhpcy5wYWdlcGFybS5wYWdlU2l6ZSA9IHRoaXMuZm9ybUlubGluZS5saW1pdA0KICAgICAgLy8gICAgICAgdGhpcy5wYWdlcGFybS50b3RhbCA9IHJlcy5jb3VudA0KICAgICAgLy8gICAgIH0NCiAgICAgIC8vICAgfSkNCiAgICAgIC8vICAgLmNhdGNoKGVyciA9PiB7DQogICAgICAvLyAgICAgdGhpcy5sb2FkaW5nID0gZmFsc2UNCiAgICAgIC8vICAgICB0aGlzLiRtZXNzYWdlLmVycm9yKCfojrflj5bop5LoibLliJfooajlpLHotKXvvIzor7fnqI3lkI7lho3or5XvvIEnKQ0KICAgICAgLy8gICB9KQ0KICAgIH0sDQogICAgLy8g5YiG6aG15o+S5Lu25LqL5Lu2DQogICAgY2FsbEZhdGhlcihwYXJtKSB7DQogICAgICB0aGlzLmZvcm1JbmxpbmUucGFnZSA9IHBhcm0uY3VycmVudFBhZ2UNCiAgICAgIHRoaXMuZm9ybUlubGluZS5saW1pdCA9IHBhcm0ucGFnZVNpemUNCiAgICAgIHRoaXMuZ2V0ZGF0YSh0aGlzLmZvcm1JbmxpbmUpDQogICAgfSwNCiAgICAvLyDmkJzntKLkuovku7YNCiAgICBzZWFyY2goKSB7DQogICAgICB0aGlzLmdldGRhdGEodGhpcy5mb3JtSW5saW5lKQ0KICAgIH0sDQogICAgLy/mmL7npLrnvJbovpHnlYzpnaINCiAgICBoYW5kbGVFZGl0OiBmdW5jdGlvbihpbmRleCwgcm93KSB7DQogICAgICB0aGlzLmVkaXRGb3JtVmlzaWJsZSA9IHRydWUNCiAgICAgIGlmIChyb3cgIT0gdW5kZWZpbmVkICYmIHJvdyAhPSAndW5kZWZpbmVkJykgew0KICAgICAgICB0aGlzLnRpdGxlID0gJ+S/ruaUuScNCiAgICAgICAgdGhpcy5lZGl0Rm9ybS5yb2xlSWQgPSByb3cucm9sZUlkDQogICAgICAgIHRoaXMuZWRpdEZvcm0uc3lzdGVtTm8gPSByb3cuc3lzdGVtTm8NCiAgICAgICAgdGhpcy5lZGl0Rm9ybS5yb2xlTm8gPSByb3cucm9sZU5vDQogICAgICAgIHRoaXMuZWRpdEZvcm0ucm9sZU5hbWUgPSByb3cucm9sZU5hbWUNCiAgICAgIH0gZWxzZSB7DQogICAgICAgIHRoaXMudGl0bGUgPSAn5re75YqgJw0KICAgICAgICB0aGlzLmVkaXRGb3JtLnJvbGVJZCA9ICcnDQogICAgICAgIHRoaXMuZWRpdEZvcm0uc3lzdGVtTm8gPSAnJw0KICAgICAgICB0aGlzLmVkaXRGb3JtLnJvbGVObyA9ICcnDQogICAgICAgIHRoaXMuZWRpdEZvcm0ucm9sZU5hbWUgPSAnJw0KICAgICAgfQ0KICAgIH0sDQogICAgLy8g57yW6L6R44CB5aKe5Yqg6aG16Z2i5L+d5a2Y5pa55rOVDQogICAgc3VibWl0Rm9ybShlZGl0RGF0YSkgew0KICAgICAgdGhpcy4kcmVmc1tlZGl0RGF0YV0udmFsaWRhdGUodmFsaWQgPT4gew0KICAgICAgICBpZiAodmFsaWQpIHsNCiAgICAgICAgICByb2xlU2F2ZSh0aGlzLmVkaXRGb3JtKQ0KICAgICAgICAgICAgLnRoZW4ocmVzID0+IHsNCiAgICAgICAgICAgICAgdGhpcy5lZGl0Rm9ybVZpc2libGUgPSBmYWxzZQ0KICAgICAgICAgICAgICB0aGlzLmxvYWRpbmcgPSBmYWxzZQ0KICAgICAgICAgICAgICBpZiAocmVzLnN1Y2Nlc3MpIHsNCiAgICAgICAgICAgICAgICB0aGlzLmdldGRhdGEodGhpcy5mb3JtSW5saW5lKQ0KICAgICAgICAgICAgICAgIHRoaXMuJG1lc3NhZ2Uoew0KICAgICAgICAgICAgICAgICAgdHlwZTogJ3N1Y2Nlc3MnLA0KICAgICAgICAgICAgICAgICAgbWVzc2FnZTogJ+inkuiJsuS/neWtmOaIkOWKn++8gScNCiAgICAgICAgICAgICAgICB9KQ0KICAgICAgICAgICAgICB9IGVsc2Ugew0KICAgICAgICAgICAgICAgIHRoaXMuJG1lc3NhZ2Uoew0KICAgICAgICAgICAgICAgICAgdHlwZTogJ2luZm8nLA0KICAgICAgICAgICAgICAgICAgbWVzc2FnZTogcmVzLm1zZw0KICAgICAgICAgICAgICAgIH0pDQogICAgICAgICAgICAgIH0NCiAgICAgICAgICAgIH0pDQogICAgICAgICAgICAuY2F0Y2goZXJyID0+IHsNCiAgICAgICAgICAgICAgdGhpcy5lZGl0Rm9ybVZpc2libGUgPSBmYWxzZQ0KICAgICAgICAgICAgICB0aGlzLmxvYWRpbmcgPSBmYWxzZQ0KICAgICAgICAgICAgICB0aGlzLiRtZXNzYWdlLmVycm9yKCfop5LoibLkv53lrZjlpLHotKXvvIzor7fnqI3lkI7lho3or5XvvIEnKQ0KICAgICAgICAgICAgfSkNCiAgICAgICAgfSBlbHNlIHsNCiAgICAgICAgICByZXR1cm4gZmFsc2UNCiAgICAgICAgfQ0KICAgICAgfSkNCiAgICB9LA0KICAgIC8vIOWIoOmZpOinkuiJsg0KICAgIGRlbGV0ZVVzZXIoaW5kZXgsIHJvdykgew0KICAgICAgdGhpcy4kY29uZmlybSgn56Gu5a6a6KaB5Yig6Zmk5ZCXPycsICfkv6Hmga8nLCB7DQogICAgICAgIGNvbmZpcm1CdXR0b25UZXh0OiAn56Gu5a6aJywNCiAgICAgICAgY2FuY2VsQnV0dG9uVGV4dDogJ+WPlua2iCcsDQogICAgICAgIHR5cGU6ICd3YXJuaW5nJw0KICAgICAgfSkNCiAgICAgICAgLnRoZW4oKCkgPT4gew0KICAgICAgICAgIHJvbGVEZWxldGUocm93LnJvbGVJZCkNCiAgICAgICAgICAgIC50aGVuKHJlcyA9PiB7DQogICAgICAgICAgICAgIGlmIChyZXMuc3VjY2Vzcykgew0KICAgICAgICAgICAgICAgIHRoaXMuJG1lc3NhZ2Uoew0KICAgICAgICAgICAgICAgICAgdHlwZTogJ3N1Y2Nlc3MnLA0KICAgICAgICAgICAgICAgICAgbWVzc2FnZTogJ+inkuiJsuW3suWIoOmZpO+8gScNCiAgICAgICAgICAgICAgICB9KQ0KICAgICAgICAgICAgICAgIHRoaXMuZ2V0ZGF0YSh0aGlzLmZvcm1JbmxpbmUpDQogICAgICAgICAgICAgIH0gZWxzZSB7DQogICAgICAgICAgICAgICAgdGhpcy4kbWVzc2FnZSh7DQogICAgICAgICAgICAgICAgICB0eXBlOiAnaW5mbycsDQogICAgICAgICAgICAgICAgICBtZXNzYWdlOiByZXMubXNnDQogICAgICAgICAgICAgICAgfSkNCiAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgfSkNCiAgICAgICAgICAgIC5jYXRjaChlcnIgPT4gew0KICAgICAgICAgICAgICB0aGlzLmxvYWRpbmcgPSBmYWxzZQ0KICAgICAgICAgICAgICB0aGlzLiRtZXNzYWdlLmVycm9yKCfop5LoibLliKDpmaTlpLHotKXvvIzor7fnqI3lkI7lho3or5XvvIEnKQ0KICAgICAgICAgICAgfSkNCiAgICAgICAgfSkNCiAgICAgICAgLmNhdGNoKCgpID0+IHsNCiAgICAgICAgICB0aGlzLiRtZXNzYWdlKHsNCiAgICAgICAgICAgIHR5cGU6ICdpbmZvJywNCiAgICAgICAgICAgIG1lc3NhZ2U6ICflt7Llj5bmtojliKDpmaQnDQogICAgICAgICAgfSkNCiAgICAgICAgfSkNCiAgICB9LA0KICAgIC8vIOaVsOaNruadg+mZkA0KICAgIG1lbnVBY2Nlc3M6IGZ1bmN0aW9uKGluZGV4LCByb3cpIHsNCiAgICAgIHRoaXMubWVudUFjY2Vzc3Nob3cgPSB0cnVlDQogICAgICB0aGlzLnNhdmVyb2xlSWQgPSByb3cucm9sZUlkDQogICAgICBSb2xlUmlnaHRUcmVlKHJvdy5yb2xlSWQpDQogICAgICAgIC50aGVuKHJlcyA9PiB7DQogICAgICAgICAgaWYgKHJlcy5kYXRhLnN1Y2Nlc3MpIHsNCiAgICAgICAgICAgIHRoaXMuJG1lc3NhZ2Uoew0KICAgICAgICAgICAgICB0eXBlOiAnc3VjY2VzcycsDQogICAgICAgICAgICAgIG1lc3NhZ2U6ICfojrflj5bmnYPpmZDmiJDlip8nDQogICAgICAgICAgICB9KQ0KICAgICAgICAgICAgdGhpcy5jaGFuZ2VtZW51KHJlcy5kYXRhLmRhdGEpDQogICAgICAgICAgICB0aGlzLlJvbGVSaWdodCA9IHRoaXMuY2hhbmdlQXJyKHJlcy5kYXRhLmRhdGEpDQogICAgICAgICAgfSBlbHNlIHsNCiAgICAgICAgICAgIHRoaXMuJG1lc3NhZ2Uoew0KICAgICAgICAgICAgICB0eXBlOiAnaW5mbycsDQogICAgICAgICAgICAgIG1lc3NhZ2U6IHJlcy5kYXRhLm1zZw0KICAgICAgICAgICAgfSkNCiAgICAgICAgICB9DQogICAgICAgIH0pDQogICAgICAgIC5jYXRjaChlcnIgPT4gew0KICAgICAgICAgIHRoaXMubG9hZGluZyA9IGZhbHNlDQogICAgICAgICAgdGhpcy4kbWVzc2FnZS5lcnJvcign6I635Y+W5p2D6ZmQ5aSx6LSl77yM6K+356iN5ZCO5YaN6K+V77yBJykNCiAgICAgICAgfSkNCiAgICB9LA0KICAgIC8vIOmAieS4reiPnOWNlQ0KICAgIGNoYW5nZW1lbnUoYXJyKSB7DQogICAgICBsZXQgY2hhbmdlID0gW10NCiAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgYXJyLmxlbmd0aDsgaSsrKSB7DQogICAgICAgIGlmIChhcnJbaV0uY2hlY2tlZCkgew0KICAgICAgICAgIGNoYW5nZS5wdXNoKGFycltpXS5pZCkNCiAgICAgICAgfQ0KICAgICAgfQ0KICAgICAgdGhpcy5jaGVja21lbnUgPSBjaGFuZ2UNCiAgICB9LA0KICAgIC8vIHRyZWUg6YCS5b2SDQogICAgY2hhbmdlQXJyKGxpc3QpIHsNCiAgICAgIHZhciB0ZW1wdHJlZSA9IFtdLA0KICAgICAgICB0cmVlID0gW10sDQogICAgICAgIGl0ZW1zID0gW10NCiAgICAgIGZvciAodmFyIGkgaW4gbGlzdCkgew0KICAgICAgICBpZiAoIXRlbXB0cmVlW2xpc3RbaV0uaWRdKSB7DQogICAgICAgICAgdmFyIHRyb3cgPSB7DQogICAgICAgICAgICBpZDogbGlzdFtpXS5pZCwNCiAgICAgICAgICAgIHBJZDogbGlzdFtpXS5wSWQsDQogICAgICAgICAgICBuYW1lOiBsaXN0W2ldLm5hbWUsDQogICAgICAgICAgICBvcGVuOiBsaXN0W2ldLm9wZW4sDQogICAgICAgICAgICBjaGVja2VkOiBsaXN0W2ldLmNoZWNrZWQsDQogICAgICAgICAgICBjaGlsZHJlbjogW10NCiAgICAgICAgICB9DQogICAgICAgICAgdGVtcHRyZWVbbGlzdFtpXS5pZF0gPSB0cm93DQogICAgICAgICAgaXRlbXMucHVzaCh0cm93KQ0KICAgICAgICB9DQogICAgICAgIGlmIChsaXN0W2ldLnVpZCA+IDApIHsNCiAgICAgICAgICB0ZW1wdHJlZVtsaXN0W2ldLmlkXVsnY2hpbGRyZW4nXS5wdXNoKHsNCiAgICAgICAgICAgIGlkOiBsaXN0W2ldLmlkLA0KICAgICAgICAgICAgcElkOiBsaXN0W2ldLnBJZCwNCiAgICAgICAgICAgIG5hbWU6IGxpc3RbaV0ubmFtZSwNCiAgICAgICAgICAgIG9wZW46IGxpc3RbaV0ub3BlbiwNCiAgICAgICAgICAgIGNoZWNrZWQ6IGxpc3RbaV0uY2hlY2tlZCwNCiAgICAgICAgICAgIGNoaWxkcmVuOiBbXQ0KICAgICAgICAgIH0pDQogICAgICAgIH0NCiAgICAgIH0NCg0KICAgICAgZm9yICh2YXIgaiBpbiBpdGVtcykgew0KICAgICAgICBpZiAodGVtcHRyZWVbaXRlbXNbal0ucElkXSkgew0KICAgICAgICAgIHRlbXB0cmVlW2l0ZW1zW2pdLnBJZF1bJ2NoaWxkcmVuJ10ucHVzaCh0ZW1wdHJlZVtpdGVtc1tqXS5pZF0pDQogICAgICAgIH0gZWxzZSB7DQogICAgICAgICAgdHJlZS5wdXNoKHRlbXB0cmVlW2l0ZW1zW2pdLmlkXSkNCiAgICAgICAgfQ0KICAgICAgfQ0KICAgICAgdGVtcHRyZWUgPSBudWxsDQogICAgICBpdGVtcyA9IG51bGwNCiAgICAgIHJldHVybiB0cmVlDQogICAgfSwNCiAgICAvLyDoj5zljZXmnYPpmZAt5L+d5a2YDQogICAgbWVudVBlcm1TYXZlKCkgew0KICAgICAgbGV0IHBhcm0gPSB7DQogICAgICAgIHJvbGVJZDogdGhpcy5zYXZlcm9sZUlkLA0KICAgICAgICBtb2R1bGVJZHM6ICcnDQogICAgICB9DQogICAgICBsZXQgbm9kZSA9IHRoaXMuJHJlZnMudHJlZS5nZXRDaGVja2VkTm9kZXMoKQ0KICAgICAgbGV0IG1vZHVsZUlkcyA9IFtdDQogICAgICBpZiAobm9kZS5sZW5ndGggIT0gMCkgew0KICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IG5vZGUubGVuZ3RoOyBpKyspIHsNCiAgICAgICAgICBtb2R1bGVJZHMucHVzaChub2RlW2ldLmlkKQ0KICAgICAgICB9DQogICAgICAgIHBhcm0ubW9kdWxlSWRzID0gSlNPTi5zdHJpbmdpZnkobW9kdWxlSWRzKQ0KICAgICAgfQ0KICAgICAgUm9sZVJpZ2h0U2F2ZShwYXJtKQ0KICAgICAgICAudGhlbihyZXMgPT4gew0KICAgICAgICAgIGlmIChyZXMuc3VjY2Vzcykgew0KICAgICAgICAgICAgdGhpcy4kbWVzc2FnZSh7DQogICAgICAgICAgICAgIHR5cGU6ICdzdWNjZXNzJywNCiAgICAgICAgICAgICAgbWVzc2FnZTogJ+adg+mZkOS/neWtmOaIkOWKnycNCiAgICAgICAgICAgIH0pDQogICAgICAgICAgICB0aGlzLm1lbnVBY2Nlc3NzaG93ID0gZmFsc2UNCiAgICAgICAgICAgIHRoaXMuZ2V0ZGF0YSh0aGlzLmZvcm1JbmxpbmUpDQogICAgICAgICAgfSBlbHNlIHsNCiAgICAgICAgICAgIHRoaXMuJG1lc3NhZ2Uoew0KICAgICAgICAgICAgICB0eXBlOiAnaW5mbycsDQogICAgICAgICAgICAgIG1lc3NhZ2U6IHJlcy5tc2cNCiAgICAgICAgICAgIH0pDQogICAgICAgICAgfQ0KICAgICAgICB9KQ0KICAgICAgICAuY2F0Y2goZXJyID0+IHsNCiAgICAgICAgICB0aGlzLmxvYWRpbmcgPSBmYWxzZQ0KICAgICAgICAgIHRoaXMuJG1lc3NhZ2UuZXJyb3IoJ+adg+mZkOS/neWtmOWksei0pe+8jOivt+eojeWQjuWGjeivle+8gScpDQogICAgICAgIH0pDQogICAgfSwNCiAgICAvLyDlhbPpl63nvJbovpHjgIHlop7liqDlvLnlh7rmoYYNCiAgICBjbG9zZURpYWxvZyhkaWFsb2cpIHsNCiAgICAgIGlmIChkaWFsb2cgPT0gJ2VkaXQnKSB7DQogICAgICAgIHRoaXMuZWRpdEZvcm1WaXNpYmxlID0gZmFsc2UNCiAgICAgIH0gZWxzZSBpZiAoZGlhbG9nID09ICdwZXJtJykgew0KICAgICAgICB0aGlzLm1lbnVBY2Nlc3NzaG93ID0gZmFsc2UNCiAgICAgIH0NCiAgICB9DQogIH0NCn0NCg=="},{"version":3,"sources":["Role.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAgFA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"Role.vue","sourceRoot":"src/pages","sourcesContent":["/**\r\n * 系统管理  角色管理\r\n */\r\n<template>\r\n  <div>\r\n    <!-- 面包屑导航 -->\r\n    <el-breadcrumb separator-class=\"el-icon-arrow-right\">\r\n      <el-breadcrumb-item :to=\"{ path: '/' }\">首页</el-breadcrumb-item>\r\n      <el-breadcrumb-item>角色管理</el-breadcrumb-item>\r\n    </el-breadcrumb>\r\n    <!-- 搜索筛选 -->\r\n    <el-form :inline=\"true\" :model=\"formInline\" class=\"user-search\">\r\n\r\n       <el-form-item label=\"搜索：\">\r\n        <el-input size=\"small\" v-model=\"formInline.roleName\" placeholder=\"输入角色名称\"></el-input>\r\n      </el-form-item>\r\n      <el-form-item label=\"\">\r\n        <el-input size=\"small\" v-model=\"formInline.roleNo\" placeholder=\"输入角色代码\"></el-input>\r\n      </el-form-item> \r\n      <el-form-item>\r\n        <el-button size=\"small\" type=\"primary\" icon=\"el-icon-search\" @click=\"search\">搜索</el-button>\r\n        <el-button size=\"small\" type=\"primary\" icon=\"el-icon-plus\" @click=\"handleEdit()\">添加</el-button>\r\n      </el-form-item>\r\n    </el-form>\r\n    <!--列表-->\r\n    <el-table size=\"small\" :data=\"listData\" highlight-current-row v-loading=\"loading\" border element-loading-text=\"拼命加载中\" style=\"width: 100%;\">\r\n      <el-table-column align=\"center\" type=\"selection\" width=\"60\">\r\n      </el-table-column>\r\n      <el-table-column sortable prop=\"roleName\" label=\"角色名称\" width=\"300\">\r\n      </el-table-column>\r\n      <el-table-column sortable prop=\"roleNo\" label=\"角色代码\" width=\"300\">\r\n      </el-table-column>\r\n      <el-table-column sortable prop=\"editTime\" label=\"修改时间\" width=\"300\">\r\n        <template slot-scope=\"scope\">\r\n          <div>{{scope.row.editTime|timestampToTime}}</div>\r\n        </template>\r\n      </el-table-column>\r\n      <el-table-column sortable prop=\"editUser\" label=\"修改人\" width=\"300\">\r\n      </el-table-column>\r\n      <el-table-column align=\"center\" label=\"操作\" min-width=\"300\">\r\n        <template slot-scope=\"scope\">\r\n          <el-button size=\"mini\" @click=\"handleEdit(scope.$index, scope.row)\">编辑</el-button>\r\n          <el-button size=\"mini\" type=\"danger\" @click=\"deleteUser(scope.$index, scope.row)\">删除</el-button>\r\n          <el-button size=\"mini\" type=\"success\" @click=\"menuAccess(scope.$index, scope.row)\">菜单权限</el-button>\r\n        </template>\r\n      </el-table-column>\r\n    </el-table>\r\n    <!-- 分页组件 -->\r\n    <!-- <Pagination v-bind:child-msg=\"pageparm\" @callFather=\"callFather\"></Pagination> -->\r\n    <!-- 编辑界面 -->\r\n    <el-dialog :title=\"title\" :visible.sync=\"editFormVisible\" width=\"30%\" @click='closeDialog(\"edit\")'>\r\n      <el-form label-width=\"120px\" :model=\"editForm\" ref=\"editForm\" :rules=\"rules\">\r\n         <el-form-item label=\"系统编码\" prop=\"systemNo\">\r\n          <el-input size=\"small\" v-model=\"editForm.systemNo\" auto-complete=\"off\" placeholder=\"请输入系统编码\"></el-input>\r\n        </el-form-item> -->\r\n        <el-form-item label=\"角色名称\" prop=\"roleName\">\r\n          <el-input size=\"small\" v-model=\"editForm.roleName\" auto-complete=\"off\" placeholder=\"请输入角色名称\"></el-input>\r\n        </el-form-item>\r\n        <el-form-item label=\"角色代码\" prop=\"roleNo\">\r\n          <el-input size=\"small\" v-model=\"editForm.roleNo\" auto-complete=\"off\" placeholder=\"请输入角色代码\"></el-input>\r\n        </el-form-item> \r\n      </el-form>\r\n      <div slot=\"footer\" class=\"dialog-footer\">\r\n        <el-button size=\"small\" @click='closeDialog(\"edit\")'>取消</el-button>\r\n        <el-button size=\"small\" type=\"primary\" :loading=\"loading\" class=\"title\" @click=\"submitForm('editForm')\">保存</el-button>\r\n      </div>\r\n    </el-dialog>\r\n    <!-- 菜单权限 -->\r\n    <el-dialog title=\"菜单权限\" :visible.sync=\"menuAccessshow\" width=\"30%\" @click='closeDialog(\"perm\")'>\r\n      <el-tree ref=\"tree\" default-expand-all=\"\" :data=\"RoleRight\" :props=\"RoleRightProps\" :default-checked-keys=\"checkmenu\" node-key=\"id\" show-checkbox>\r\n      </el-tree>\r\n      <div slot=\"footer\" class=\"dialog-footer\">\r\n        <el-button size=\"small\" @click='closeDialog(\"perm\")'>取消</el-button>\r\n        <el-button size=\"small\" type=\"primary\" :loading=\"loading\" class=\"title\" @click=\"menuPermSave\">保存</el-button>\r\n      </div>\r\n    </el-dialog>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\n// import {\r\n//   roleList,\r\n//   roleSave,\r\n//   roleDelete,\r\n//   rolePwd,\r\n//   RoleRightTree,\r\n//   RoleRightSave\r\n// } from '../../api/userMG'\r\n// import Pagination from '../../components/Pagination'\r\nexport default {\r\n  data() {\r\n    return {\r\n      nshow: true, //switch开启\r\n      fshow: false, //switch关闭\r\n      loading: false, //是显示加载\r\n      editFormVisible: false, //控制编辑页面显示与隐藏\r\n      menuAccessshow: false, //控制数据权限显示与隐藏\r\n      title: '添加',\r\n      editForm: {\r\n        roleId: '',\r\n        systemNo: '',\r\n        roleNo: '',\r\n        roleName: '',\r\n        token: localStorage.getItem('logintoken')\r\n      },\r\n      // rules 表单验证\r\n      rules: {\r\n        systemNo: [\r\n          { required: true, message: '请输入系统编码', trigger: 'blur' }\r\n        ],\r\n        roleNo: [\r\n          { required: true, message: '请输入角色代码', trigger: 'blur' }\r\n        ],\r\n        roleName: [\r\n          { required: true, message: '请输入角色名称', trigger: 'blur' }\r\n        ]\r\n      },\r\n      formInline: {\r\n        page: 1,\r\n        limit: 10,\r\n        varLable: '',\r\n        varName: '',\r\n        token: localStorage.getItem('logintoken')\r\n      },\r\n      // 删除\r\n      seletedata: {\r\n        ids: '',\r\n        token: localStorage.getItem('logintoken')\r\n      },\r\n      userparm: [], //搜索权限\r\n      listData: [], //用户数据\r\n      // 数据权限\r\n      RoleRight: [],\r\n      RoleRightProps: {\r\n        children: 'children',\r\n        label: 'name'\r\n      },\r\n      // 选中\r\n      checkmenu: [],\r\n      //参数role\r\n      saveroleId: '',\r\n      // 分页参数\r\n      pageparm: {\r\n        currentPage: 1,\r\n        pageSize: 10,\r\n        total: 10\r\n      }\r\n    }\r\n  },\r\n  // 注册组件\r\n  components: {\r\n    // Pagination\r\n  },\r\n  /**\r\n   * 数据发生改变\r\n   */\r\n\r\n  watch: {},\r\n\r\n  /**\r\n   * 创建完毕\r\n   */\r\n\r\n  created() {\r\n    this.getdata(this.formInline)\r\n  },\r\n\r\n  /**\r\n   * 里面的方法只有被调用才会执行\r\n   */\r\n\r\n  methods: {\r\n    // 获取角色列表\r\n    getdata(parameter) {\r\n      // 模拟数据\r\n      let res = {\r\n        code: 0,\r\n        msg: null,\r\n        count: 6,\r\n        data: [\r\n          {\r\n            addUser: 'root',\r\n            editUser: 'root',\r\n            addTime: 1519182004000,\r\n            editTime: 1520288426000,\r\n            roleId: 1,\r\n            systemNo: 'pmd',\r\n            roleNo: 'Administrator',\r\n            roleName: '超级管理员'\r\n          },\r\n          {\r\n            addUser: null,\r\n            editUser: null,\r\n            addTime: 1521111376000,\r\n            editTime: 1520678191000,\r\n            roleId: 2,\r\n            systemNo: 'order',\r\n            roleNo: 'admin',\r\n            roleName: '公司管理员'\r\n          },\r\n          {\r\n            addUser: null,\r\n            editUser: null,\r\n            addTime: 1520678221000,\r\n            editTime: 1520678221000,\r\n            roleId: 95,\r\n            systemNo: 'pm',\r\n            roleNo: 'common',\r\n            roleName: '普通用户'\r\n          },\r\n          {\r\n            addUser: null,\r\n            editUser: null,\r\n            addTime: 1526349853000,\r\n            editTime: 1526349853000,\r\n            roleId: 96,\r\n            systemNo: '1',\r\n            roleNo: '1',\r\n            roleName: '1'\r\n          },\r\n          {\r\n            addUser: null,\r\n            editUser: null,\r\n            addTime: 1526349942000,\r\n            editTime: 1526437443000,\r\n            roleId: 97,\r\n            systemNo: '2',\r\n            roleNo: '2',\r\n            roleName: '2'\r\n          },\r\n          {\r\n            addUser: null,\r\n            editUser: null,\r\n            addTime: 1526652148000,\r\n            editTime: 1526652148000,\r\n            roleId: 101,\r\n            systemNo: 'test',\r\n            roleNo: 'demo',\r\n            roleName: '演示角色'\r\n          }\r\n        ]\r\n      }\r\n      this.loading = false\r\n      this.listData = res.data\r\n      // 分页赋值\r\n      this.pageparm.currentPage = this.formInline.page\r\n      this.pageparm.pageSize = this.formInline.limit\r\n      this.pageparm.total = res.count\r\n      // 模拟数据结束\r\n\r\n      /***\r\n       * 调用接口，注释上面模拟数据 取消下面注释\r\n       */\r\n      // roleList(parameter)\r\n      //   .then(res => {\r\n      //     this.loading = false\r\n      //     if (res.success == false) {\r\n      //       this.$message({\r\n      //         type: 'info',\r\n      //         message: res.msg\r\n      //       })\r\n      //     } else {\r\n      //       this.listData = res.data\r\n      //       // 分页赋值\r\n      //       this.pageparm.currentPage = this.formInline.page\r\n      //       this.pageparm.pageSize = this.formInline.limit\r\n      //       this.pageparm.total = res.count\r\n      //     }\r\n      //   })\r\n      //   .catch(err => {\r\n      //     this.loading = false\r\n      //     this.$message.error('获取角色列表失败，请稍后再试！')\r\n      //   })\r\n    },\r\n    // 分页插件事件\r\n    callFather(parm) {\r\n      this.formInline.page = parm.currentPage\r\n      this.formInline.limit = parm.pageSize\r\n      this.getdata(this.formInline)\r\n    },\r\n    // 搜索事件\r\n    search() {\r\n      this.getdata(this.formInline)\r\n    },\r\n    //显示编辑界面\r\n    handleEdit: function(index, row) {\r\n      this.editFormVisible = true\r\n      if (row != undefined && row != 'undefined') {\r\n        this.title = '修改'\r\n        this.editForm.roleId = row.roleId\r\n        this.editForm.systemNo = row.systemNo\r\n        this.editForm.roleNo = row.roleNo\r\n        this.editForm.roleName = row.roleName\r\n      } else {\r\n        this.title = '添加'\r\n        this.editForm.roleId = ''\r\n        this.editForm.systemNo = ''\r\n        this.editForm.roleNo = ''\r\n        this.editForm.roleName = ''\r\n      }\r\n    },\r\n    // 编辑、增加页面保存方法\r\n    submitForm(editData) {\r\n      this.$refs[editData].validate(valid => {\r\n        if (valid) {\r\n          roleSave(this.editForm)\r\n            .then(res => {\r\n              this.editFormVisible = false\r\n              this.loading = false\r\n              if (res.success) {\r\n                this.getdata(this.formInline)\r\n                this.$message({\r\n                  type: 'success',\r\n                  message: '角色保存成功！'\r\n                })\r\n              } else {\r\n                this.$message({\r\n                  type: 'info',\r\n                  message: res.msg\r\n                })\r\n              }\r\n            })\r\n            .catch(err => {\r\n              this.editFormVisible = false\r\n              this.loading = false\r\n              this.$message.error('角色保存失败，请稍后再试！')\r\n            })\r\n        } else {\r\n          return false\r\n        }\r\n      })\r\n    },\r\n    // 删除角色\r\n    deleteUser(index, row) {\r\n      this.$confirm('确定要删除吗?', '信息', {\r\n        confirmButtonText: '确定',\r\n        cancelButtonText: '取消',\r\n        type: 'warning'\r\n      })\r\n        .then(() => {\r\n          roleDelete(row.roleId)\r\n            .then(res => {\r\n              if (res.success) {\r\n                this.$message({\r\n                  type: 'success',\r\n                  message: '角色已删除！'\r\n                })\r\n                this.getdata(this.formInline)\r\n              } else {\r\n                this.$message({\r\n                  type: 'info',\r\n                  message: res.msg\r\n                })\r\n              }\r\n            })\r\n            .catch(err => {\r\n              this.loading = false\r\n              this.$message.error('角色删除失败，请稍后再试！')\r\n            })\r\n        })\r\n        .catch(() => {\r\n          this.$message({\r\n            type: 'info',\r\n            message: '已取消删除'\r\n          })\r\n        })\r\n    },\r\n    // 数据权限\r\n    menuAccess: function(index, row) {\r\n      this.menuAccessshow = true\r\n      this.saveroleId = row.roleId\r\n      RoleRightTree(row.roleId)\r\n        .then(res => {\r\n          if (res.data.success) {\r\n            this.$message({\r\n              type: 'success',\r\n              message: '获取权限成功'\r\n            })\r\n            this.changemenu(res.data.data)\r\n            this.RoleRight = this.changeArr(res.data.data)\r\n          } else {\r\n            this.$message({\r\n              type: 'info',\r\n              message: res.data.msg\r\n            })\r\n          }\r\n        })\r\n        .catch(err => {\r\n          this.loading = false\r\n          this.$message.error('获取权限失败，请稍后再试！')\r\n        })\r\n    },\r\n    // 选中菜单\r\n    changemenu(arr) {\r\n      let change = []\r\n      for (let i = 0; i < arr.length; i++) {\r\n        if (arr[i].checked) {\r\n          change.push(arr[i].id)\r\n        }\r\n      }\r\n      this.checkmenu = change\r\n    },\r\n    // tree 递归\r\n    changeArr(list) {\r\n      var temptree = [],\r\n        tree = [],\r\n        items = []\r\n      for (var i in list) {\r\n        if (!temptree[list[i].id]) {\r\n          var trow = {\r\n            id: list[i].id,\r\n            pId: list[i].pId,\r\n            name: list[i].name,\r\n            open: list[i].open,\r\n            checked: list[i].checked,\r\n            children: []\r\n          }\r\n          temptree[list[i].id] = trow\r\n          items.push(trow)\r\n        }\r\n        if (list[i].uid > 0) {\r\n          temptree[list[i].id]['children'].push({\r\n            id: list[i].id,\r\n            pId: list[i].pId,\r\n            name: list[i].name,\r\n            open: list[i].open,\r\n            checked: list[i].checked,\r\n            children: []\r\n          })\r\n        }\r\n      }\r\n\r\n      for (var j in items) {\r\n        if (temptree[items[j].pId]) {\r\n          temptree[items[j].pId]['children'].push(temptree[items[j].id])\r\n        } else {\r\n          tree.push(temptree[items[j].id])\r\n        }\r\n      }\r\n      temptree = null\r\n      items = null\r\n      return tree\r\n    },\r\n    // 菜单权限-保存\r\n    menuPermSave() {\r\n      let parm = {\r\n        roleId: this.saveroleId,\r\n        moduleIds: ''\r\n      }\r\n      let node = this.$refs.tree.getCheckedNodes()\r\n      let moduleIds = []\r\n      if (node.length != 0) {\r\n        for (let i = 0; i < node.length; i++) {\r\n          moduleIds.push(node[i].id)\r\n        }\r\n        parm.moduleIds = JSON.stringify(moduleIds)\r\n      }\r\n      RoleRightSave(parm)\r\n        .then(res => {\r\n          if (res.success) {\r\n            this.$message({\r\n              type: 'success',\r\n              message: '权限保存成功'\r\n            })\r\n            this.menuAccessshow = false\r\n            this.getdata(this.formInline)\r\n          } else {\r\n            this.$message({\r\n              type: 'info',\r\n              message: res.msg\r\n            })\r\n          }\r\n        })\r\n        .catch(err => {\r\n          this.loading = false\r\n          this.$message.error('权限保存失败，请稍后再试！')\r\n        })\r\n    },\r\n    // 关闭编辑、增加弹出框\r\n    closeDialog(dialog) {\r\n      if (dialog == 'edit') {\r\n        this.editFormVisible = false\r\n      } else if (dialog == 'perm') {\r\n        this.menuAccessshow = false\r\n      }\r\n    }\r\n  }\r\n}\r\n</script>\r\n\r\n<style scoped>\r\n.user-search {\r\n  margin-top: 20px;\r\n}\r\n.userRole {\r\n  width: 100%;\r\n}\r\n</style>\r\n\r\n "]}]}